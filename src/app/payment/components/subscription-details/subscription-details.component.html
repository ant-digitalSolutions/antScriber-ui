<mat-card class="bg-plum shadow-none" *ngIf="!loading">
  <mat-card-header class="justify-content-between m-b-48">
    <mat-icon class="close-icon text-white" (click)="onClose()">close</mat-icon>
    <mat-card-title>
      <h2 class="text-white m-0 p-0">Subscription Details</h2>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <table mat-table [dataSource]="[
      {'label': 'Current Plan', 'value': planName},
      {'label': 'Words per Month (GPT 4)', 'value': wordsUsage.wordsMonthlyLimit_GPT_4},
      {'label': 'Used Words (GPT-4)', 'value': wordsUsage.usageCurrentMonth_GPT_4},
      {'label': 'Words per Month (GPT-3.5)', 'value': wordsUsage.wordsMonthlyLimit_GPT_3},
      {'label': 'Used Words (GPT-3.5)', 'value': wordsUsage.usageCurrentMonth_GPT_3},
      {'label': 'Plan Pricing', 'value': (subscription.plan!.amount / 100) + ' ' + (subscription.currency | uppercase)},
      {'label': 'Billing Cycle', 'value': (subscription.currentPeriodStart * 1000 | date : 'mediumDate') + ' - ' + (subscription.currentPeriodEnd * 1000 | date : 'mediumDate')},
      {'label': 'Billed', 'value': subscription.plan?.interval === 'year' ? 'Yearly' : 'Monthly'}
    ]" class="mat-elevation-z8 bg-plum shadow-none">

      <!-- Label Column -->
      <ng-container matColumnDef="label">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element" class="text-white"><strong>{{element.label}}:</strong></td>
      </ng-container>

      <!-- Value Column -->
      <ng-container matColumnDef="value">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element" class="text-white">{{element.value}}</td>
      </ng-container>

      <tr mat-row *matRowDef="let row; columns: ['label', 'value'];"></tr>
    </table>
  </mat-card-content>

  <mat-card-actions class="justify-content-end p-0 m-t-48 b-t-1">
    <button mat-flat-button class="border-round btn-cancel">
      Cancel Subscription
    </button>
    <button mat-flat-button class="border-round text-primary f-w-600">
      Upgrade
    </button>
  </mat-card-actions>
</mat-card>