<!-- chat-history.component.html -->
<div class="chat-history">
  <div
    *ngFor="let message of chatHistory"
    class="message"
    [ngClass]="{
      'user-message': message.sender === 'user',
      'assistant-message': message.sender === 'assistant'
    }"
  >
    <h4 class="m-b-6">
      {{ message.sender === "user" ? "You" : "Assistant" }}
    </h4>
    <markdown
      class="variable-binding"
      [data]="message.content"
      lineNumbers
      clipboard
      [clipboardButtonTemplate]="buttonTemplate"
    ></markdown>
  </div>
</div>
<mat-form-field class="message-input w-100">
  <textarea
    matInput
    [(ngModel)]="newMessage"
    (keyup.enter)="sendMessage()"
    [placeholder]="'Instruction...'"
  ></textarea>
</mat-form-field>
<button mat-raised-button color="primary" (click)="sendMessage()">Send</button>

<ng-template #buttonTemplate>
  <button (click)="onCopyToClipboard()">...</button>
</ng-template>