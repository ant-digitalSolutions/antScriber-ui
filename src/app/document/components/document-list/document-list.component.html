<div class="docs-table-container">
  <div class="table-responsive docs-table-container">
    <mat-table #table [dataSource]="dataSource" *ngIf="tableElementsToRender">
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <mat-header-cell
          *matHeaderCellDef
          class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-large"
        >
          Name
        </mat-header-cell>
        <mat-cell
          class="table-cell-content"
          *matCellDef="let doc"
          class="mat-body-1 wizard-mat-cell-large"
          (click)="documentRowSelected(doc)"
        >
          <mat-icon
            class="m-r-10 folder-icon"
            fontSet="material-icons-outlined"
            *ngIf="doc.isDocument; else folderIcon"
            >description</mat-icon
          >
          <ng-template #folderIcon>
            <mat-icon class="m-r-10" fontSet="material-icons-outlined">folder</mat-icon>
          </ng-template>
          <div class="table-element-name d-flex flex-column justify-content-start align-items-start">
          {{ doc.name | slice : 0 : 50 }}...
          <ng-container *ngIf="isMobile">
            <span class="last-modified-mobile">
              Modified {{ doc.updatedAt | date:'mediumDate'}}
            </span>
          </ng-container>
          </div>
        </mat-cell>
      </ng-container>

      <!-- documentsCount Column -->
      <!-- <ng-container matColumnDef="documentsCount">
        <mat-header-cell
          *matHeaderCellDef
          class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-small"
        >
          Documents
        </mat-header-cell>
        <mat-cell
          class="table-cell-content"
          *matCellDef="let doc"
          class="mat-body-1 wizard-mat-cell-small"
        >
          <span
            class="bg-light-accent text-primary rounded f-w-600 p-6 p-y-4 f-s-12"
            *ngIf="doc.documentsCount; else noWords"
            >{{ doc.documentsCount }}</span
          >

          <ng-template #noWords>-</ng-template>
        </mat-cell>
      </ng-container> -->

      <!--Primary Keyword Column -->
      <ng-container matColumnDef="words">
        <mat-header-cell
          *matHeaderCellDef
          class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-small"
        >
          Words
        </mat-header-cell>
        <mat-cell
          class="table-cell-content"
          *matCellDef="let doc"
          class="mat-body-1 wizard-mat-cell-small"
        >
          <span
            class="bg-light-primary text-primary rounded f-w-600 p-6 p-y-4 f-s-12"
            *ngIf="doc.wordsCount; else noWords"
            >{{ doc.wordsCount }}</span
          >

          <ng-template #noWords>-</ng-template>
        </mat-cell>
      </ng-container>

      <!--Secondary Keyword Column -->
      <!-- <ng-container matColumnDef="secondary-keywords">
          <mat-header-cell
            *matHeaderCellDef
            class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-small"
          >
            Secondary Keywords
          </mat-header-cell>
          <mat-cell class="table-cell-content" *matCellDef="let doc" class="mat-body-1 wizard-mat-cell-small">
            <div *ngIf="doc.secondaryKeywords">
              <span
                class="bg-light-accent text-accent rounded f-w-600 p-6 p-y-4 f-s-12"
                *ngFor="let sKey of doc.secondaryKeywords"
                >{{ sKey.name }}</span
              >
            </div></mat-cell
          >
        </ng-container> -->

      <!--StatusColumn -->
      <ng-container matColumnDef="updatedAt" *ngIf="!isMobile">
        <mat-header-cell
          *matHeaderCellDef
          class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-small"
        >
          Last Modified
        </mat-header-cell>
        <mat-cell
          class="table-cell-content"
          *matCellDef="let doc"
          class="mat-body-1 wizard-mat-cell-small"
        >
          {{ doc.updatedAt | date:'short' }}
        </mat-cell>
      </ng-container>

      <!--Actions Column -->
      <ng-container matColumnDef="isFavorite">
        <mat-header-cell
          *matHeaderCellDef
          class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-small"
        >
          Favorite
        </mat-header-cell>
        <mat-cell
          class="table-cell-content"
          *matCellDef="let doc"
          class="mat-body-1 wizard-mat-cell-small"
        >
          <button
            class="btn-table wizard-is-favorite-btn"
            mat-mini-fab
            (click)="setAsFavorite(doc)"
          >
            <mat-icon
              class="btn-mat-icon"
              [ngClass]=""
              [ngClass]="{ 'is-favorite': doc.isFavorite }"
              fontSet="material-icons-outlined"
              *ngIf="!doc.isFavorite;else favStar"
              >grade</mat-icon
            >
            <ng-template #favStar>
                <mat-icon
              class="btn-mat-icon is-favorite"
              [ngClass]=""
              fontSet="material-icons-outlined"
              *ngIf="doc.isFavorite;else favStar"
              >star</mat-icon
            >
            </ng-template>
          </button>
        </mat-cell>
      </ng-container>

      <!--StatusColumn -->
      <ng-container matColumnDef="menuDots">
        <mat-header-cell
          *matHeaderCellDef
          class="f-w-600 mat-subtitle-1 f-s-14 wizard-mat-cell-small"
        >
        </mat-header-cell>
        <mat-cell
          class="table-cell-content"
          *matCellDef="let doc"
          class="mat-body-1 wizard-mat-cell-small"
        >
          <button class="btn-table" mat-mini-fab [matMenuTriggerFor]="menu">
            <mat-icon class="btn-mat-icon">more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-button (click)="openRenameDialog(doc)">
               <mat-icon fontSet="material-icons-outlined" class="btn-mat-icon">edit</mat-icon>
              Rename</button>
            <button mat-button (click)="openMoveDialog(doc)" *ngIf="doc.isDocument">
               <mat-icon fontSet="material-icons-outlined" class="btn-mat-icon">folder</mat-icon>
              Move</button>
            <button mat-button (click)="openDeleteDialog(doc)">
              <mat-icon fontSet="material-icons-outlined" class="btn-mat-icon">delete</mat-icon>
              Delete</button>
          </mat-menu>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns; sticky: !isMobile">
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
      </mat-header-row>
    </mat-table>
    <!-- 
     <mat-paginator
        #paginator
        [pageSize]="pageSize"
        [pageSizeOptions]="pageSizeOptions"
        [length]="docsCount"
        (page)="handlePageEvent($event)"
        class="docs-table-paginator"
      >
      </mat-paginator> -->
  </div>
</div>
