<div class="row justify-content-center">
  <div class="col-lg-8 justify-content-center">
    <h4 class="f-s-30 f-w-600 text-center mat-subtitle-1 lh-lg m-b-16">
      Flexible Plans Tailored to Fit Your Community's Unique Needs!
    </h4>
    <div class="d-flex align-items-center justify-content-center">
      <span class="f-s-14 m-r-8">Monthly</span>
      <mat-slide-toggle
        (click)="annualPricing = !annualPricing"
        color="primary"
        [checked]="annualPricing"
        >Yearly</mat-slide-toggle
      >
    </div>
    <div class="text-center m-t-6">Save 20% on annual plans</div>
  </div>
</div>

<div class="row m-t-32 p-t-32">
  <div class="col-sm-4 col-lg-4" *ngFor="let pricecard of pricecards">
    <mat-card
      class="cardWithShadow pricing-card h-100"
      [ngClass]="{ popular: pricecard.popular }"
    >
      <mat-card-content class="p-y-24">
        <span
          *ngIf="pricecard.popular"
          class="popular-badge text-uppercase bg-light-warning text-warning p-x-8 p-y-4 f-s-12 f-w-500 rounded"
          >Popular</span
        >

        <div
          class="pricing-title-container d-flex align-items-center justify-content-center flex-col"
        >
          <h3 class="pricing-title">{{ pricecard.plan }}</h3>

          <p class="pricing-description">
            {{ pricecard.description }}
          </p>
        </div>

        <!-- <span class="d-block text-uppercase f-s-12 m-b-16">{{
          pricecard.plan
        }}</span> -->

        <div *ngIf="pricecard.free; else pricingContent">
          <h2 class="mat-headline-6 plan-title m-b-24">Free</h2>
        </div>

        <ng-template #pricingContent>
          <div
            class="align-items-center d-flex flex-col justify-content-center m-y-16 ng-star-inserted pricing-area-container"
          >
            <ng-container *ngIf="annualPricing; else monthlyPricing">
              <div
                class="pricing-area-inner-container d-flex justify-content-around align-items-center"
              >
                <div class="original-price-container">
                  {{ pricecard.planPrice }}
                </div>
                <h2 class="mat-headline-6 plan-title">
                  ${{ yearlyPrice(pricecard.planPrice) }}
                </h2>
                <span
                  *ngIf="annualPricing"
                  class="text-uppercase bg-primary text-warning p-x-8 p-y-4 f-s-12 f-w-500 rounded"
                  >{{ pricecard.planPercentAmountOff }}%</span
                >
              </div>
            </ng-container>
            <ng-template #monthlyPricing>
              <div class="d-flex justify-content-center align-items-center">
                <h2 class="mat-headline-6 plan-title">
                  ${{ pricecard.planPrice }}
                </h2>
              </div>
            </ng-template>
            <p class="per-month-text text-center">per month</p>
          </div>
        </ng-template>

        <div
          class="d-flex align-items-center p-y-12"
          *ngFor="let rule of pricecard.rules"
        >
          <div
            *ngIf="rule.limit; else noLimit"
            class="d-flex align-items-center"
          >
            <i-tabler
              name="check"
              class="icon-16 m-r-12 text-primary d-flex"
            ></i-tabler>
            <span class="f-s-14 f-w-500">{{ rule.title }}</span>
          </div>
          <ng-template #noLimit>
            <i-tabler name="x" class="icon-16 m-r-12 op-5 d-flex"></i-tabler>
            <span class="op-5 f-w-500 f-s-14">{{ rule.title }}</span>
          </ng-template>
        </div>
        <button mat-flat-button color="primary" class="w-100 m-t-24">
          {{ pricecard.btnText }}
        </button>
      </mat-card-content>
    </mat-card>
  </div>
</div>
